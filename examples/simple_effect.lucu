effect get {
    fun get() int
}

fun getter(n int) get {
	get {
		fun get() int {
			n
		}
	}
}

fun getter_indirect(n int) get {
	getter(n)
}

fun gimme_get() get / get{
	get
}

fun ident(h get) get {
	h
}

fun puttwice(n int) / debug {
	with getter_indirect(n) {
		let handler = gimme_get()
		putint(handler.get())
		let handler = ident(handler)
		putint(handler.get())
	}
}

fun main() / debug {
	putint(420)
	puttwice(69)
}
