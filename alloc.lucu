
effect alloc {

	type box[T];

	fun ~box[T](obj box[T]);

	fun &box[T](obj box[T]) -> ptr[T];

	fun alloc[T](bytes usize) -> box[T];

	fun new[T](obj T) -> box[T] {
		val box = alloc(sizeof(obj));
		*box = obj;
		box
	}

}
